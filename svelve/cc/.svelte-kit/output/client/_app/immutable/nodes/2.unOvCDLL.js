import{d as Pe,f as g,a as n,s as f,e as ve,r as Fe,t as se,c as pe}from"../chunks/D6JVuOWV.js";import{o as ke}from"../chunks/CEH0wINy.js";import{ac as he,E as we,z as s,v as l,n as b,ae as ge,ay as Z,w as a,aj as Q,x as t,az as ae,y as de,o as Re,$ as qe,ad as ne}from"../chunks/jznUQfAd.js";import{p as xe,b as ce,i as x}from"../chunks/DbItlYgE.js";import{e as ue,i as be,s as fe}from"../chunks/CRLMKAi_.js";import{h as ze}from"../chunks/BLwUsVw6.js";import{s as Y,a as ie,r as De}from"../chunks/CKTHLUtX.js";import{b as Ae}from"../chunks/Dtq01MJd.js";import{g as me}from"../chunks/CrWOoOuV.js";var Ie=g('<span class="emoji-icon svelte-13fbkwk"> </span>'),Ve=g('<button><span class="pill-content svelte-13fbkwk"><!> <span class="pill-text svelte-13fbkwk"> </span></span></button>'),Ee=g('<div class="category-container svelte-13fbkwk"><div class="fade-left svelte-13fbkwk"></div> <div class="fade-right svelte-13fbkwk"></div> <div class="category-pills hide-scrollbar svelte-13fbkwk"><div></div> <button><span class="pill-content svelte-13fbkwk"><svg class="pill-icon svelte-13fbkwk" width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="2" y="2" width="5" height="5" rx="1.5" stroke="currentColor" stroke-width="1.5"></rect><rect x="9" y="2" width="5" height="5" rx="1.5" stroke="currentColor" stroke-width="1.5"></rect><rect x="2" y="9" width="5" height="5" rx="1.5" stroke="currentColor" stroke-width="1.5"></rect><rect x="9" y="9" width="5" height="5" rx="1.5" stroke="currentColor" stroke-width="1.5"></rect></svg> <span class="pill-text svelte-13fbkwk">Alle</span></span></button> <!></div></div>');function Ne($,e){he(e,!0);let d=xe(e,"selected",15,""),p,m=[],J=Z(""),C=Z(!1);function S(){const v=d()?e.categories.findIndex(y=>y.id===d())+1:0,h=m[v];if(h&&p){const y=p.getBoundingClientRect(),_=h.getBoundingClientRect();Q(J,`
        --indicator-left: ${_.left-y.left+p.scrollLeft}px;
        --indicator-width: ${_.width}px;
      `)}}we(()=>{d(),s(C)&&S()}),ke(()=>{requestAnimationFrame(()=>{Q(C,!0),S()});const v=new ResizeObserver(()=>S());return v.observe(p),()=>v.disconnect()});function j(v){var h;d(d()===v?"":v),(h=e.onSelect)==null||h.call(e,d())}var M=Ee(),w=l(a(M),4),L=a(w);let N;var A=l(L,2);let U;A.__click=()=>j(""),ce(A,v=>m[0]=v,()=>m==null?void 0:m[0]);var T=l(A,2);ue(T,17,()=>e.categories,be,(v,h,y)=>{var _=Ve();let I;_.__click=()=>j(s(h).id);var W=a(_),K=a(W);{var V=k=>{var B=Ie(),G=a(B,!0);t(B),b(()=>f(G,s(h).icon)),n(k,B)};x(K,k=>{s(h).icon&&k(V)})}var E=l(K,2),ee=a(E,!0);t(E),t(W),t(_),ce(_,(k,B)=>m[B+1]=k,k=>m==null?void 0:m[k+1],()=>[y]),b(()=>{I=Y(_,1,"pill svelte-13fbkwk",null,I,{active:d()===s(h).id}),f(ee,s(h).name)}),n(v,_)}),t(w),t(M),ce(M,v=>p=v,()=>p),b(()=>{fe(w,s(J)),N=Y(L,1,"pill-indicator svelte-13fbkwk",null,N,{visible:s(C)}),U=Y(A,1,"pill all-pill svelte-13fbkwk",null,U,{active:!d()})}),n($,M),ge()}Pe(["click"]);var Ue=g('<img loading="lazy"/>'),He=g('<div class="image-placeholder svelte-11ja2cl"><svg width="32" height="32" viewBox="0 0 32 32" fill="none"><rect x="4" y="4" width="24" height="24" rx="4" stroke="currentColor" stroke-width="1.5"></rect><circle cx="11" cy="11" r="2.5" stroke="currentColor" stroke-width="1.5"></circle><path d="M4 22L12 14L20 22L28 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></div>'),Oe=g('<div class="discount-tag svelte-11ja2cl"> </div>'),Je=g('<span class="original-price svelte-11ja2cl"> </span>'),Ke=g('<a class="product-card svelte-11ja2cl"><div class="store-indicator svelte-11ja2cl"></div> <div class="image-section svelte-11ja2cl"><!> <!></div> <div class="content svelte-11ja2cl"><div class="store-name svelte-11ja2cl"> </div> <h3 class="product-name svelte-11ja2cl"> </h3> <div class="price-row svelte-11ja2cl"><div class="price svelte-11ja2cl"><span class="price-whole svelte-11ja2cl"> </span> <span class="price-fraction svelte-11ja2cl"> </span> <span class="price-currency svelte-11ja2cl">kr</span></div> <!></div></div></a>');function Ge($,e){he(e,!0);let d=xe(e,"index",3,0);const p=ae(()=>e.product.originalPrice&&e.product.originalPrice>e.product.price),m=ae(()=>s(p)?Math.round((1-e.product.price/e.product.originalPrice)*100):0),J=ae(()=>{var o;return e.product.image_primary||((o=e.product.images)==null?void 0:o[0])||""}),C=o=>{const c=Math.floor(o),P=Math.round((o-c)*100);return{whole:c,fraction:String(P).padStart(2,"0")}},S=ae(()=>C(e.product.price));let j=Z(!1),M=Z(!1);var w=Ke(),L=l(a(w),2),N=a(L);{var A=o=>{var c=Ue();let P;b(()=>{ie(c,"src",s(J)),ie(c,"alt",e.product.name),P=Y(c,1,"svelte-11ja2cl",null,P,{loaded:s(j)})}),ve("load",c,()=>Q(j,!0)),ve("error",c,()=>Q(M,!0)),Fe(c),n(o,c)},U=o=>{var c=He();n(o,c)};x(N,o=>{s(J)&&!s(M)?o(A):o(U,!1)})}var T=l(N,2);{var v=o=>{var c=Oe(),P=a(c);t(c),b(()=>f(P,`-${s(m)??""}%`)),n(o,c)};x(T,o=>{s(p)&&o(v)})}t(L);var h=l(L,2),y=a(h),_=a(y,!0);t(y);var I=l(y,2),W=a(I,!0);t(I);var K=l(I,2),V=a(K),E=a(V),ee=a(E,!0);t(E);var k=l(E,2),B=a(k);t(k),de(2),t(V);var G=l(V,2);{var te=o=>{var c=Je(),P=a(c);t(c),b((le,re)=>f(P,`${le??""},${re??""} kr`),[()=>C(e.product.originalPrice).whole,()=>C(e.product.originalPrice).fraction]),n(o,c)};x(G,o=>{s(p)&&o(te)})}t(K),t(h),t(w),b(()=>{ie(w,"href",`/product/${e.product._id??""}`),fe(w,`--delay: ${d()*30}ms; --store-color: ${e.product.storeColor??""}`),f(_,e.product.storeName),f(W,e.product.name),f(ee,s(S).whole),f(B,`,${s(S).fraction??""}`)}),n($,w),ge()}var Qe=g('<meta name="description" content="Find de bedste priser på dagligvarer. Sammenlign priser fra Netto, Bilka, Føtex, Rema 1000 og mange flere."/>'),Te=g('<span class="store-check svelte-1uha8ag">✓</span>'),We=g('<a><span class="store-initial svelte-1uha8ag"> </span> <span class="store-name svelte-1uha8ag"> </span> <!></a>'),Xe=g('<a href="/" class="stores-clear svelte-1uha8ag"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <span>Vis alle</span></a>'),Ye=g('<a href="/" class="clear-filters svelte-1uha8ag"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <span>Ryd filtre</span></a>'),Ze=g('<div class="load-more svelte-1uha8ag"><button class="load-more-btn svelte-1uha8ag"><span>Vis flere produkter</span> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 3V13M8 13L3 8M8 13L13 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),$e=g('<div class="products-grid svelte-1uha8ag"></div> <!>',1),et=g('<div class="empty-state svelte-1uha8ag"><div class="empty-icon svelte-1uha8ag"><svg width="80" height="80" viewBox="0 0 80 80" fill="none"><circle cx="35" cy="35" r="20" stroke="currentColor" stroke-width="3"></circle><path d="M50 50L65 65" stroke="currentColor" stroke-width="3" stroke-linecap="round"></path><path d="M28 35H42" stroke="currentColor" stroke-width="3" stroke-linecap="round"></path></svg></div> <h3 class="svelte-1uha8ag">Ingen produkter fundet</h3> <p class="svelte-1uha8ag">Prøv at søge efter noget andet eller fjern dine filtre</p> <a href="/" class="btn-primary svelte-1uha8ag"><span>Se alle produkter</span> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3 8H13M13 8L8 3M13 8L8 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></div>'),tt=g('<div class="page svelte-1uha8ag"><section><div class="hero-bg svelte-1uha8ag"><div class="hero-gradient svelte-1uha8ag"></div></div> <div class="container hero-content svelte-1uha8ag"><h1 class="hero-title svelte-1uha8ag"><span class="title-line svelte-1uha8ag">Find de</span> <span class="title-line title-highlight svelte-1uha8ag">bedste priser</span> <span class="title-line svelte-1uha8ag">på dagligvarer</span></h1> <p class="hero-subtitle svelte-1uha8ag">Sammenlign priser fra 6 supermarkeder</p> <form class="hero-search svelte-1uha8ag"><div class="search-wrapper svelte-1uha8ag"><svg class="search-icon svelte-1uha8ag" width="20" height="20" viewBox="0 0 20 20" fill="none"><circle cx="9" cy="9" r="6" stroke="currentColor" stroke-width="2"></circle><path d="M14 14L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <input type="search" placeholder="Søg efter produkter..." class="search-input svelte-1uha8ag"/> <button type="submit" class="search-button svelte-1uha8ag">Søg</button></div></form></div></section> <section class="stores-section svelte-1uha8ag"><div class="container"><div class="stores-header svelte-1uha8ag"><span class="stores-label svelte-1uha8ag"> </span></div> <div class="stores-track svelte-1uha8ag"><!> <!></div></div></section> <section class="categories-section svelte-1uha8ag"><div class="container"><!></div></section> <section class="products-section svelte-1uha8ag"><div class="container"><div class="section-header svelte-1uha8ag"><div class="section-title-group svelte-1uha8ag"><h2 class="section-title svelte-1uha8ag"><!></h2> <div class="product-count-badge svelte-1uha8ag"><span class="count-number svelte-1uha8ag"> </span> <span class="count-label svelte-1uha8ag">produkter</span></div></div> <!></div> <!></div></section></div>');function dt($,e){he(e,!0);let d=Z(""),p=Z(!1);we(()=>{Q(d,e.data.query||"",!0)}),ke(()=>{Q(p,!0)});function m(r){const i=new URLSearchParams;s(d)&&i.set("q",s(d)),r&&i.set("category",r);const F=i.toString();me(F?`/?${F}`:"/")}function J(r){r.preventDefault(),s(d).trim()&&me(`/?q=${encodeURIComponent(s(d).trim())}`)}const C=[{id:"rema1000",name:"Rema 1000",color:"#003366"},{id:"netto",name:"Netto",color:"#FFD700"},{id:"foetexplus",name:"Føtex+",color:"#00457C"},{id:"bilkatogo",name:"Bilka",color:"#004B93"},{id:"meny",name:"Meny",color:"#D4002A"},{id:"spar",name:"Spar",color:"#00843D"}];var S=tt();ze("1uha8ag",r=>{var i=Qe();Re(()=>{qe.title="PrisJagt - Sammenlign priser på dagligvarer"}),n(r,i)});var j=a(S);let M;var w=l(a(j),2),L=l(a(w),4),N=a(L),A=l(a(N),2);De(A),de(2),t(N),t(L),t(w),t(j);var U=l(j,2),T=a(U),v=a(T),h=a(v),y=a(h,!0);t(h),t(v);var _=l(v,2),I=a(_);ue(I,17,()=>C,be,(r,i,F)=>{var R=We();let X;var u=a(R),q=a(u,!0);t(u);var z=l(u,2),H=a(z,!0);t(z);var oe=l(z,2);{var O=D=>{var Be=Te();n(D,Be)};x(oe,D=>{e.data.selectedStore===s(i).id&&D(O)})}t(R),b(D=>{ie(R,"href",e.data.selectedStore===s(i).id?"/":`/?store=${s(i).id}`),X=Y(R,1,"store-badge svelte-1uha8ag",null,X,{active:e.data.selectedStore===s(i).id}),fe(R,`--delay: ${F*50}ms; --store-color: ${s(i).color??""}`),f(q,D),f(H,s(i).name)},[()=>s(i).name.charAt(0)]),n(r,R)});var W=l(I,2);{var K=r=>{var i=Xe();n(r,i)};x(W,r=>{e.data.selectedStore&&r(K)})}t(_),t(T),t(U);var V=l(U,2),E=a(V),ee=a(E);Ne(ee,{get categories(){return e.data.categories},get selected(){return e.data.selectedCategory},onSelect:m}),t(E),t(V);var k=l(V,2),B=a(k),G=a(B),te=a(G),o=a(te),c=a(o);{var P=r=>{var i=se();b(()=>f(i,`Resultater for "${e.data.query??""}"`)),n(r,i)},le=r=>{var i=pe(),F=ne(i);{var R=u=>{const q=ae(()=>C.find(H=>H.id===e.data.selectedStore));var z=se();b(()=>{var H;return f(z,`Produkter fra ${(((H=s(q))==null?void 0:H.name)||e.data.selectedStore)??""}`)}),n(u,z)},X=u=>{var q=pe(),z=ne(q);{var H=O=>{var D=se();b(()=>f(D,e.data.selectedCategory)),n(O,D)},oe=O=>{var D=se("Alle produkter");n(O,D)};x(z,O=>{e.data.selectedCategory?O(H):O(oe,!1)},!0)}n(u,q)};x(F,u=>{e.data.selectedStore?u(R):u(X,!1)},!0)}n(r,i)};x(c,r=>{e.data.query?r(P):r(le,!1)})}t(o);var re=l(o,2),_e=a(re),ye=a(_e,!0);t(_e),de(2),t(re),t(te);var Ce=l(te,2);{var Se=r=>{var i=Ye();n(r,i)};x(Ce,r=>{(e.data.query||e.data.selectedCategory||e.data.selectedStore)&&r(Se)})}t(G);var je=l(G,2);{var Me=r=>{var i=$e(),F=ne(i);ue(F,23,()=>e.data.products,u=>u._id,(u,q,z)=>{Ge(u,{get product(){return s(q)},get index(){return s(z)}})}),t(F);var R=l(F,2);{var X=u=>{var q=Ze();n(u,q)};x(R,u=>{e.data.total>e.data.products.length&&u(X)})}n(r,i)},Le=r=>{var i=et();n(r,i)};x(je,r=>{e.data.products.length>0?r(Me):r(Le,!1)})}t(B),t(k),t(S),b(r=>{M=Y(j,1,"hero svelte-1uha8ag",null,M,{visible:s(p)}),f(y,e.data.selectedStore?"Filtreret efter butik":"Filtrer efter butik"),f(ye,r)},[()=>e.data.total.toLocaleString("da-DK")]),ve("submit",L,J),Ae(A,()=>s(d),r=>Q(d,r)),n($,S),ge()}export{dt as component};
